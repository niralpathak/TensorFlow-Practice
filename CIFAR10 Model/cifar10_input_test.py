<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>tensorflow/models/image/cifar10/cifar10_input_test.py - tensorflow - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.tUfpZ_-FMSB5BV8sDJSOrw.cache.css"><link rel="stylesheet" type="text/css" href="/+static/prettify/prettify.pZ5FqzM6cPxAflH0va2Ucw.cache.css"></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://www.google.com/a/SelectSession?service=gerritcodereview&amp;continue=https://tensorflow.googlesource.com/login/tensorflow/%2B/master/tensorflow/models/image/cifar10/cifar10_input_test.py">Sign in</a> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">tensorflow</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/">tensorflow</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master">master</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master/">.</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master/tensorflow">tensorflow</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master/tensorflow/models">models</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master/tensorflow/models/image">image</a> / <a class="Breadcrumbs-crumb" href="/tensorflow/+/master/tensorflow/models/image/cifar10">cifar10</a> / <span class="Breadcrumbs-crumb">cifar10_input_test.py</span></div><div class="u-sha1 u-monospace BlobSha1">blob: 76988145ae0636f4061708261914a97b470d0b37 [<a href="/tensorflow/+/master/tensorflow/models/image/cifar10/cifar10_input_test.py">file</a>] [<a href="/tensorflow/+log/master/tensorflow/models/image/cifar10/cifar10_input_test.py">log</a>] [<a href="/tensorflow/+blame/master/tensorflow/models/image/cifar10/cifar10_input_test.py">blame</a>]</div><table class="FileContents"><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="1" onclick="window.location.hash='#1'"></td><td class="FileContents-lineContents"><a name="1"></a><span class="com"># Copyright 2015 Google Inc. All Rights Reserved.</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="2" onclick="window.location.hash='#2'"></td><td class="FileContents-lineContents"><a name="2"></a><span class="com">#</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="3" onclick="window.location.hash='#3'"></td><td class="FileContents-lineContents"><a name="3"></a><span class="com"># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="4" onclick="window.location.hash='#4'"></td><td class="FileContents-lineContents"><a name="4"></a><span class="com"># you may not use this file except in compliance with the License.</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="5" onclick="window.location.hash='#5'"></td><td class="FileContents-lineContents"><a name="5"></a><span class="com"># You may obtain a copy of the License at</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="6" onclick="window.location.hash='#6'"></td><td class="FileContents-lineContents"><a name="6"></a><span class="com">#</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="7" onclick="window.location.hash='#7'"></td><td class="FileContents-lineContents"><a name="7"></a><span class="com">#     http://www.apache.org/licenses/LICENSE-2.0</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="8" onclick="window.location.hash='#8'"></td><td class="FileContents-lineContents"><a name="8"></a><span class="com">#</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="9" onclick="window.location.hash='#9'"></td><td class="FileContents-lineContents"><a name="9"></a><span class="com"># Unless required by applicable law or agreed to in writing, software</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="10" onclick="window.location.hash='#10'"></td><td class="FileContents-lineContents"><a name="10"></a><span class="com"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="11" onclick="window.location.hash='#11'"></td><td class="FileContents-lineContents"><a name="11"></a><span class="com"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="12" onclick="window.location.hash='#12'"></td><td class="FileContents-lineContents"><a name="12"></a><span class="com"># See the License for the specific language governing permissions and</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="13" onclick="window.location.hash='#13'"></td><td class="FileContents-lineContents"><a name="13"></a><span class="com"># limitations under the License.</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="14" onclick="window.location.hash='#14'"></td><td class="FileContents-lineContents"><a name="14"></a><span class="com"># ==============================================================================</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="15" onclick="window.location.hash='#15'"></td><td class="FileContents-lineContents"><a name="15"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="16" onclick="window.location.hash='#16'"></td><td class="FileContents-lineContents"><a name="16"></a><span class="str">&quot;&quot;&quot;Tests for cifar10 input.&quot;&quot;&quot;</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="17" onclick="window.location.hash='#17'"></td><td class="FileContents-lineContents"><a name="17"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="18" onclick="window.location.hash='#18'"></td><td class="FileContents-lineContents"><a name="18"></a><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> absolute_import</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="19" onclick="window.location.hash='#19'"></td><td class="FileContents-lineContents"><a name="19"></a><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> division</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="20" onclick="window.location.hash='#20'"></td><td class="FileContents-lineContents"><a name="20"></a><span class="kwd">from</span><span class="pln"> __future__ </span><span class="kwd">import</span><span class="pln"> print_function</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="21" onclick="window.location.hash='#21'"></td><td class="FileContents-lineContents"><a name="21"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="22" onclick="window.location.hash='#22'"></td><td class="FileContents-lineContents"><a name="22"></a><span class="kwd">import</span><span class="pln"> os</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="23" onclick="window.location.hash='#23'"></td><td class="FileContents-lineContents"><a name="23"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="24" onclick="window.location.hash='#24'"></td><td class="FileContents-lineContents"><a name="24"></a><span class="kwd">import</span><span class="pln"> tensorflow</span><span class="pun">.</span><span class="pln">python</span><span class="pun">.</span><span class="pln">platform</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="25" onclick="window.location.hash='#25'"></td><td class="FileContents-lineContents"><a name="25"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="26" onclick="window.location.hash='#26'"></td><td class="FileContents-lineContents"><a name="26"></a><span class="kwd">import</span><span class="pln"> tensorflow </span><span class="kwd">as</span><span class="pln"> tf</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="27" onclick="window.location.hash='#27'"></td><td class="FileContents-lineContents"><a name="27"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="28" onclick="window.location.hash='#28'"></td><td class="FileContents-lineContents"><a name="28"></a><span class="kwd">from</span><span class="pln"> tensorflow</span><span class="pun">.</span><span class="pln">models</span><span class="pun">.</span><span class="pln">image</span><span class="pun">.</span><span class="pln">cifar10 </span><span class="kwd">import</span><span class="pln"> cifar10_input</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="29" onclick="window.location.hash='#29'"></td><td class="FileContents-lineContents"><a name="29"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="30" onclick="window.location.hash='#30'"></td><td class="FileContents-lineContents"><a name="30"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="31" onclick="window.location.hash='#31'"></td><td class="FileContents-lineContents"><a name="31"></a><span class="kwd">class</span><span class="pln"> CIFAR10InputTest</span><span class="pun">(</span><span class="pln">tf</span><span class="pun">.</span><span class="pln">test</span><span class="pun">.</span><span class="typ">TestCase</span><span class="pun">):</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="32" onclick="window.location.hash='#32'"></td><td class="FileContents-lineContents"><a name="32"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="33" onclick="window.location.hash='#33'"></td><td class="FileContents-lineContents"><a name="33"></a><span class="pln">  </span><span class="kwd">def</span><span class="pln"> _record</span><span class="pun">(</span><span class="pln">self</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">,</span><span class="pln"> red</span><span class="pun">,</span><span class="pln"> green</span><span class="pun">,</span><span class="pln"> blue</span><span class="pun">):</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="34" onclick="window.location.hash='#34'"></td><td class="FileContents-lineContents"><a name="34"></a><span class="pln">    image_size </span><span class="pun">=</span><span class="pln"> </span><span class="lit">32</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">32</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="35" onclick="window.location.hash='#35'"></td><td class="FileContents-lineContents"><a name="35"></a><span class="pln">    record </span><span class="pun">=</span><span class="pln"> bytes</span><span class="pun">(</span><span class="pln">bytearray</span><span class="pun">([</span><span class="pln">label</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">[</span><span class="pln">red</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> image_size </span><span class="pun">+</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="36" onclick="window.location.hash='#36'"></td><td class="FileContents-lineContents"><a name="36"></a><span class="pln">                             </span><span class="pun">[</span><span class="pln">green</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> image_size </span><span class="pun">+</span><span class="pln"> </span><span class="pun">[</span><span class="pln">blue</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> image_size</span><span class="pun">))</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="37" onclick="window.location.hash='#37'"></td><td class="FileContents-lineContents"><a name="37"></a><span class="pln">    expected </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[[[</span><span class="pln">red</span><span class="pun">,</span><span class="pln"> green</span><span class="pun">,</span><span class="pln"> blue</span><span class="pun">]]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">32</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">32</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="38" onclick="window.location.hash='#38'"></td><td class="FileContents-lineContents"><a name="38"></a><span class="pln">    </span><span class="kwd">return</span><span class="pln"> record</span><span class="pun">,</span><span class="pln"> expected</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="39" onclick="window.location.hash='#39'"></td><td class="FileContents-lineContents"><a name="39"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="40" onclick="window.location.hash='#40'"></td><td class="FileContents-lineContents"><a name="40"></a><span class="pln">  </span><span class="kwd">def</span><span class="pln"> testSimple</span><span class="pun">(</span><span class="pln">self</span><span class="pun">):</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="41" onclick="window.location.hash='#41'"></td><td class="FileContents-lineContents"><a name="41"></a><span class="pln">    labels </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">9</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">]</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="42" onclick="window.location.hash='#42'"></td><td class="FileContents-lineContents"><a name="42"></a><span class="pln">    records </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">self</span><span class="pun">.</span><span class="pln">_record</span><span class="pun">(</span><span class="pln">labels</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">128</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">),</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="43" onclick="window.location.hash='#43'"></td><td class="FileContents-lineContents"><a name="43"></a><span class="pln">               self</span><span class="pun">.</span><span class="pln">_record</span><span class="pun">(</span><span class="pln">labels</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">),</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="44" onclick="window.location.hash='#44'"></td><td class="FileContents-lineContents"><a name="44"></a><span class="pln">               self</span><span class="pun">.</span><span class="pln">_record</span><span class="pun">(</span><span class="pln">labels</span><span class="pun">[</span><span class="lit">2</span><span class="pun">],</span><span class="pln"> </span><span class="lit">254</span><span class="pun">,</span><span class="pln"> </span><span class="lit">255</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)]</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="45" onclick="window.location.hash='#45'"></td><td class="FileContents-lineContents"><a name="45"></a><span class="pln">    contents </span><span class="pun">=</span><span class="pln"> b</span><span class="str">&quot;&quot;</span><span class="pun">.</span><span class="pln">join</span><span class="pun">([</span><span class="pln">record </span><span class="kwd">for</span><span class="pln"> record</span><span class="pun">,</span><span class="pln"> _ </span><span class="kwd">in</span><span class="pln"> records</span><span class="pun">])</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="46" onclick="window.location.hash='#46'"></td><td class="FileContents-lineContents"><a name="46"></a><span class="pln">    expected </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">expected </span><span class="kwd">for</span><span class="pln"> _</span><span class="pun">,</span><span class="pln"> expected </span><span class="kwd">in</span><span class="pln"> records</span><span class="pun">]</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="47" onclick="window.location.hash='#47'"></td><td class="FileContents-lineContents"><a name="47"></a><span class="pln">    filename </span><span class="pun">=</span><span class="pln"> os</span><span class="pun">.</span><span class="pln">path</span><span class="pun">.</span><span class="pln">join</span><span class="pun">(</span><span class="pln">self</span><span class="pun">.</span><span class="pln">get_temp_dir</span><span class="pun">(),</span><span class="pln"> </span><span class="str">&quot;cifar&quot;</span><span class="pun">)</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="48" onclick="window.location.hash='#48'"></td><td class="FileContents-lineContents"><a name="48"></a><span class="pln">    open</span><span class="pun">(</span><span class="pln">filename</span><span class="pun">,</span><span class="pln"> </span><span class="str">&quot;wb&quot;</span><span class="pun">).</span><span class="pln">write</span><span class="pun">(</span><span class="pln">contents</span><span class="pun">)</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="49" onclick="window.location.hash='#49'"></td><td class="FileContents-lineContents"><a name="49"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="50" onclick="window.location.hash='#50'"></td><td class="FileContents-lineContents"><a name="50"></a><span class="pln">    </span><span class="kwd">with</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">test_session</span><span class="pun">()</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> sess</span><span class="pun">:</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="51" onclick="window.location.hash='#51'"></td><td class="FileContents-lineContents"><a name="51"></a><span class="pln">      q </span><span class="pun">=</span><span class="pln"> tf</span><span class="pun">.</span><span class="typ">FIFOQueue</span><span class="pun">(</span><span class="lit">99</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">tf</span><span class="pun">.</span><span class="pln">string</span><span class="pun">],</span><span class="pln"> shapes</span><span class="pun">=())</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="52" onclick="window.location.hash='#52'"></td><td class="FileContents-lineContents"><a name="52"></a><span class="pln">      q</span><span class="pun">.</span><span class="pln">enqueue</span><span class="pun">([</span><span class="pln">filename</span><span class="pun">]).</span><span class="pln">run</span><span class="pun">()</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="53" onclick="window.location.hash='#53'"></td><td class="FileContents-lineContents"><a name="53"></a><span class="pln">      q</span><span class="pun">.</span><span class="pln">close</span><span class="pun">().</span><span class="pln">run</span><span class="pun">()</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="54" onclick="window.location.hash='#54'"></td><td class="FileContents-lineContents"><a name="54"></a><span class="pln">      result </span><span class="pun">=</span><span class="pln"> cifar10_input</span><span class="pun">.</span><span class="pln">read_cifar10</span><span class="pun">(</span><span class="pln">q</span><span class="pun">)</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="55" onclick="window.location.hash='#55'"></td><td class="FileContents-lineContents"><a name="55"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="56" onclick="window.location.hash='#56'"></td><td class="FileContents-lineContents"><a name="56"></a><span class="pln">      </span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">3</span><span class="pun">):</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="57" onclick="window.location.hash='#57'"></td><td class="FileContents-lineContents"><a name="57"></a><span class="pln">        key</span><span class="pun">,</span><span class="pln"> label</span><span class="pun">,</span><span class="pln"> uint8image </span><span class="pun">=</span><span class="pln"> sess</span><span class="pun">.</span><span class="pln">run</span><span class="pun">([</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="58" onclick="window.location.hash='#58'"></td><td class="FileContents-lineContents"><a name="58"></a><span class="pln">            result</span><span class="pun">.</span><span class="pln">key</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">label</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">uint8image</span><span class="pun">])</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="59" onclick="window.location.hash='#59'"></td><td class="FileContents-lineContents"><a name="59"></a><span class="pln">        self</span><span class="pun">.</span><span class="pln">assertEqual</span><span class="pun">(</span><span class="str">&quot;%s:%d&quot;</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="pun">(</span><span class="pln">filename</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">),</span><span class="pln"> tf</span><span class="pun">.</span><span class="pln">compat</span><span class="pun">.</span><span class="pln">as_text</span><span class="pun">(</span><span class="pln">key</span><span class="pun">))</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="60" onclick="window.location.hash='#60'"></td><td class="FileContents-lineContents"><a name="60"></a><span class="pln">        self</span><span class="pun">.</span><span class="pln">assertEqual</span><span class="pun">(</span><span class="pln">labels</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> label</span><span class="pun">)</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="61" onclick="window.location.hash='#61'"></td><td class="FileContents-lineContents"><a name="61"></a><span class="pln">        self</span><span class="pun">.</span><span class="pln">assertAllEqual</span><span class="pun">(</span><span class="pln">expected</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> uint8image</span><span class="pun">)</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="62" onclick="window.location.hash='#62'"></td><td class="FileContents-lineContents"><a name="62"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="63" onclick="window.location.hash='#63'"></td><td class="FileContents-lineContents"><a name="63"></a><span class="pln">      </span><span class="kwd">with</span><span class="pln"> self</span><span class="pun">.</span><span class="pln">assertRaises</span><span class="pun">(</span><span class="pln">tf</span><span class="pun">.</span><span class="pln">errors</span><span class="pun">.</span><span class="typ">OutOfRangeError</span><span class="pun">):</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="64" onclick="window.location.hash='#64'"></td><td class="FileContents-lineContents"><a name="64"></a><span class="pln">        sess</span><span class="pun">.</span><span class="pln">run</span><span class="pun">([</span><span class="pln">result</span><span class="pun">.</span><span class="pln">key</span><span class="pun">,</span><span class="pln"> result</span><span class="pun">.</span><span class="pln">uint8image</span><span class="pun">])</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="65" onclick="window.location.hash='#65'"></td><td class="FileContents-lineContents"><a name="65"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="66" onclick="window.location.hash='#66'"></td><td class="FileContents-lineContents"><a name="66"></a></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="67" onclick="window.location.hash='#67'"></td><td class="FileContents-lineContents"><a name="67"></a><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">&quot;__main__&quot;</span><span class="pun">:</span></td></tr><tr class="u-pre u-monospace FileContents-line"><td class="u-lineNum u-noSelect FileContents-lineNum" data-line-number="68" onclick="window.location.hash='#68'"></td><td class="FileContents-lineContents"><a name="68"></a><span class="pln">  tf</span><span class="pun">.</span><span class="pln">test</span><span class="pun">.</span><span class="pln">main</span><span class="pun">()</span></td></tr></table></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://code.google.com/p/gitiles/">Gitiles</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>